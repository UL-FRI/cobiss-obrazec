<!DOCTYPE html>
<html lang="sl">
<meta charset="utf-8" />

<title>Vodenje bibliografij v sistemu COBISS</title>

<script src='js/pdfmake.min.js'></script>
<script src='js/vfs_fonts.js'></script>
    
<script>
</script>

<style>
body {
    margin: 0 auto;
    max-width: 66em;
    padding: 1em 2em;
}
fieldset {
    margin-bottom: 1em;
}
h1 {
    font-size: 1.2em;
}
legend {
    font-weight: bold;
}
p:first-of-type {
    margin-top: 0;
}
p:last-of-type {
    margin-bottom: 0;
}
textarea {
    font-family: "sans-serif";
    width: 90%;
}
</style>

<h1>Vodenje bibliografij raziskovalcev v sistemu COBISS</h1>

<form>
    <fieldset>
        <legend>Spremni list o dokumentu/delu</legend>

        <p>
        <label for="avtor">Predlagatelj dokumenta/dela (avtor oz. soavtor)</label><br>
        <input id="avtor" type="text" placeholder="Predlagatelj dokumenta">

        <p>
        <label for="tipologija">Tipologija dokumenta/dela</label><br>
        <select id="tipologija">
            <option>1.01 Izvirni znanstveni članek
            <option>1.02 Pregledni znanstveni članek
            <option>1.03 Kratki znanstveni prispevek
            <option>1.04 Strokovni članek
            <option>1.05 Poljudni članek
            <option>1.06 Objavljeni znanstveni prispevek na konferenci (vabljeno predavanje)
            <option>1.07 Objavljeni strokovni prispevek na konferenci (vabljeno predavanje)
            <option>1.08 Objavljeni znanstveni prispevek na konferenci
            <option>1.09 Objavljeni strokovni prispevek na konferenci
            <option>1.10 Objavljeni povzetek znanstvenega prispevka na konferenci (vabljeno predavanje)
            <option>1.11 Objavljeni povzetek strokovnega prispevka na konferenci (vabljeno predavanje)
            <option>1.12 Objavljeni povzetek znanstvenega prispevka na konferenci
            <option>1.13 Objavljeni povzetek strokovnega prispevka na konferenci)

            <option>1.16 Samostojni znanstveni sestavek ali poglavje v monografski publikaciji
            <option>1.17 Samostojni strokovni sestavek ali poglavje v monografski publikaciji
            <option>1.18 Strokovni sestavek v slovarju, enciklopediji ali leksikonu
            <option>1.19 Recenzija, prikaz knjige, kritika
            <option>1.20 Predgovor, spremna beseda
            <option>1.21 Polemika, diskusijski prispevek, komentar
            <option>1.22 Intervju
            <option>1.23 Umetniški sestaveki
            <option>1.24 Bibliografija, kazalo ipd.
            <option>1.25 Drugi sestavni deli
            <option>1.26 Znanstveni sestavek v slovarju, enciklopediji, leksikonu

            <option>2.01 Znanstvena monografija
            <option>2.02 Strokovna monografija
            <option>2.03 Univerzitetni, visokošolski ali višješolski učbenik z recenzijo
            <option>2.04 Srednješolski, osnovnošolski ali drugi učbenik z recenzijo
            <option>2.05 Drugo učno gradivo
            <option>2.06 Slovar, enciklopedija, leksikon, priročnik, atlas, zemljevid
            <option>2.07 Bibliografija
            <option>2.08 Doktorska disertacija
            <option>2.09 Magistrsko delo
            <option>2.10 Specialistično delo
            <option>2.11 Diplomsko delo
            <option>2.12 Končno poročilo o rezultatih raziskav
            <option>2.13 Elaborat, predštudija, študija
            <option>2.14 Projektna dokumentacija (idejni projekt, izvedbeni projekt)
            <option>2.15 Izvedensko mnenje, arbitražna odločba
            <option>2.16 Umetniško delo
            <option>2.17 Katalog razstave
            <option>2.18 Raziskovalni ali dokumentarni film, zvočna ali video publikacija
            <option>2.19 Radijska ali televizijska oddaja
            <option>2.20 Zaključena znanstvena zbirka podatkov ali korpus
            <option>2.21 Programska oprema
            <option>2.22 Nova sorta
            <option>2.23 Patentna prijava
            <option>2.24 Patent
            <option>2.25 Druge monografije in druga zaključena dela
            <option>2.26 Temeljni znanstveni slovar ali leksikon
            <option>2.27 Znanstveni terminološki slovar, enciklopedija ali tematski leksikon
            <option>2.28 Znanstvenokritična izdaja vira
            <option>2.29 Model
            <option>2.30 Zbornik strokovnih ali nerecenziranih znanstvenih prispevkov na konferenci
            <option>2.31 Zbornik recenziranih znanstvenih prispevkov na mednarodni ali tuji konferenci
            <option>2.32 Zbornik recenziranih znanstvenih prispevkov na domači konferenci

            <option>3.10 Umetniška poustvaritev
            <option>3.11 Radijski ali TV dogodek
            <option>3.12 Razstava
            <option>3.14 Predavanje na tuji univerzi
            <option>3.15 Prispevek na konferenci brez natisa
            <option>3.16 Vabljeno predavanje na konferenci brez natisa
            <option>3.25 Druga izvedena dela

            <option>Drugo sekundarno avtorstvo (urednik, mentor, fotograf ...)
        </select>

        <p>
        <label for="prispevki">Za prispevke, ki so v celoti objavljeni v zborniku (tipologija 1.06, 1.08)</label><br>
        <select id="prispevki">
            <option>
            <option>2.30 Zbornik strokovnih in nerecenziranih znanstvenih prispevkov na konferenci
            <option>2.31 Zbornik recenziranih znanstevih prispevkov na mednarodni ali tuji konferenci
            <option>2.32 Zbornik nerecenziranih znanstevih prispevkov na domači konferenci
        </select>

        <p>
            <label for="naslov">Naslov dela/dokumenta</label><br>
            <textarea id="naslov"></textarea>
        <p>
            <label for="avtorji">Priimek, ime: avtorja in soavtorjev</label><br>
            <textarea id="avtorji"></textarea>
        <p>
            <label for="vir">Vir</label><br>
            <textarea id="vir"></textarea>
        <p>
            <label for="slo">Ključne besede v slovenskem jeziku</label><br>
            <textarea id="slo"></textarea>
        <p>
            <label for="angl">Ključne besede v angleškem jeziku</label><br>
            <textarea id="angl"></textarea>
    </fieldset>

    <fieldset>
        <legend>Objava</legend>
        <input type="checkbox" id="objava" value="">
        <label for="objava">Članek se vnese v Repozitorij UL in v dCOBISS?</label> <br>
        <label for="cost">Stroški objave članka v odprtem dostopu</label>
        <input type="text" id="cost" style="width: 3em;"></input> €
    </fieldset>

    <fieldset>
        <legend>Priloge</legend>
        <input type="checkbox" id="fotokopija" value="primarni vir (članek oziroma prispevek, zbornik, knjiga ...)">
        <label for="fotokopija">primarni vir (članek oziroma prispevek, zbornik, knjiga ...)</label>
        <br>
        <input type="checkbox" id="dokazila" value="dokazila (vabilo, recenzija ...)">
        <label for="dokazila">dokazila (vabilo, recenzija ...)</label>
        <br>
        <input type="checkbox" id="final" value="končna recenzirana različica članka, sprejeta za objavo (če članek ni v odprtem dostopu)">
        <label for="final">končna recenzirana različica članka, sprejeta za objavo (če članek ni v odprtem dostopu)</label>
        </div>
    </fieldset>

    <button id="savePDF">Izpiši PDF</button>
</form>

<script>
document.querySelector("#savePDF").addEventListener("click", event => {
    event.preventDefault();
    var knjiznica = "Knjižnica FKKT in FRI\n Večna pot 113, Ljubljana\n FRI: Tel:01/4798005, FKKT: 01/4798006\n\n"
    var avtor = document.getElementById("avtor").value
    var predlagatelj = "Predlagatelj dokumenta(avtor/soavtor): "
    var avtor1 = predlagatelj.concat(avtor)
    var delo = document.getElementById("naslov").value
    var avtorji = document.getElementById("avtorji").value
    var slo = document.getElementById("slo").value
    var eng = document.getElementById("angl").value
    var vir = document.getElementById("vir").value
    if (vir.localeCompare("") != 0) {
        var vir1=vir.match(/.{1,70}/g);
        vir = vir1.join(" ")
    }
    var tipologija = document.getElementById("tipologija").value
    var prispevki = document.getElementById("prispevki").value
    var date = "Datum: " + (new Date()).toLocaleDateString("sl");

    var vnos = 'Vnos v Repozitorij UL in v dCOBISS? ' +
        (document.getElementById('objava').checked ? 'da' : 'ne');
    var cost = document.getElementById('cost').value;

    var priloge = "Priloge: "
    for (const priloga of ["fotokopija", "dokazila", "final"])
        if (document.getElementById(priloga).checked)
            priloge += "\n" + "- " + document.getElementById(priloga).value

    var docDefinition = {
        defaultStyle: { fontSize: 12 },
        content: [ // using a { text: '...' } object lets you set styling properties
            knjiznica,
            avtor1,
            '\n\n',
            {
                text: 'Spremni list o dokumentu/delu za vodenje bibliografij raziskovalcev v sistemu COBISS',
                fontSize: 15,
                bold: true
            },
            '\n\n' ,
            'Tipologija dokumenta/dela:\n', tipologija, '\n\n' ,
            'Za prispevke, ki so v celoti objavljeni v zborniku (tipologija 1.06, 1.08):\n', prispevki, '\n\n',
            'Naslov dela/dokumenta:\n', delo, '\n\n',
            'Priimek in imena:avtorja in soavtorja:\n', avtorji, '\n\n',
            'Ključne besede v slovenkem jeziku:\n', slo, '\n\n',
            'Ključne besede v angleškem jeziku:\n', eng, '\n\n',
            'Vir:\n', vir, '\n\n',
	    vnos, '\n\n',
            'Stroški objave članka v odprtem dostopu: ' + (cost ? cost + ' €' : ''), '\n\n',
            priloge, '\n\n',
            date
        ]
    };

    // download the PDF (temporarily Chrome-only)
    // pdfMake.createPdf(docDefinition).open();
    // pdfMake.createPdf(docDefinition).print();
    pdfMake.createPdf(docDefinition).download('cobiss-obrazec.pdf');
});
</script>
